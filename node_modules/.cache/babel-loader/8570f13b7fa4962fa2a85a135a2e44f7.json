{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/admin-pc/Desktop/vEngage/SHUBHAM/opterInterface_10th_jan_2021/shubham_operator_interface2021/src/CallCompleted.js\";\nimport React, { Component } from \"react\";\nimport { withAuth0 } from \"@auth0/auth0-react\";\n\nclass CallCompleted extends Component {\n  constructor() {\n    super();\n\n    this.updatecallCompleted = async () => {\n      const token = await this.props.GetAuthToken();\n\n      if (document.getElementById(\"basic-select\").value != \"\" && document.getElementById(\"feedback_detail\").value != \"\") {\n        var callstatus = document.getElementById(\"basic-select\").value; //var operator_id = document.getElementById('operatorid_textbox').value;\n\n        var conversationid = document.getElementById(\"conversionid_textbox\").value;\n        var call_feedback = document.getElementById(\"feedback_detail\").value;\n\n        if (conversationid != \"\") {\n          fetch(process.env.REACT_APP_API_URL + \"/oi/api/v1/updatestatusbyoperator\", {\n            method: \"POST\",\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n              Authorization: `Bearer ${token}`\n            },\n            body: JSON.stringify({\n              conversation_id: conversationid,\n              status_updated_by_operator: callstatus,\n              feedback: call_feedback\n            })\n          }).then(response => response.text()).then(data => this.callstsactionmsg(data)).catch(err => {\n            this.callstatusupdatefailureMsg();\n          });\n        }\n      } else {\n        alert(\"Please fill out feedback and call completed status\");\n      }\n    };\n\n    this.state = {\n      data: []\n    };\n  } //end constructor\n\n\n  callstsactionmsg(updatedstatus) {\n    alert(\"Data updated successfully\"); //alert(updatedstatus);\n    // document.getElementById(\"btnclose\").click();\n\n    document.getElementById(\"basic-select\").value = \"\";\n    document.getElementById(\"feedback_detail\").value = \"\";\n  }\n\n  callstatusupdatefailureMsg() {\n    alert(\"Data Updation Failed, try again\");\n    document.getElementById(\"btnclose\").click();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"card\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"card-body  cardbody\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"card-title\",\n            children: \"Call Completion Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row \",\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                class: \"form-control col-md-12 col-lg-12\",\n                id: \"basic-select\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"AI_SUCCESS\",\n                  children: \"AI Success\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"OPERATOR_SUCCESS\",\n                  children: \"Operator Success\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"CUSTOMER_NO_RESPONSE\",\n                  children: \"Customer No Response\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"CUSTOMER_DISCONNECTED\",\n                  children: \"Customer Disconnected\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"CUSTOMER_CALLBACK\",\n                  children: \"Customer Callback\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"APPOINTMENT_CONFIRMATION\",\n                  children: \"Appointment Confirmation\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row\",\n              children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                placeholder: \"Please share your feedback... \",\n                class: \"form-control \",\n                id: \"feedback_detail\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => this.updatecallCompleted(),\n                type: \"button\",\n                class: \"btn btn-success btn-square waves-effect waves-light m-1\",\n                children: \"OK\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default _c = withAuth0(CallCompleted);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/home/admin-pc/Desktop/vEngage/SHUBHAM/opterInterface_10th_jan_2021/shubham_operator_interface2021/src/CallCompleted.js"],"names":["React","Component","withAuth0","CallCompleted","constructor","updatecallCompleted","token","props","GetAuthToken","document","getElementById","value","callstatus","conversationid","call_feedback","fetch","process","env","REACT_APP_API_URL","method","headers","Accept","Authorization","body","JSON","stringify","conversation_id","status_updated_by_operator","feedback","then","response","text","data","callstsactionmsg","catch","err","callstatusupdatefailureMsg","alert","state","updatedstatus","click","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { withAuth0 } from \"@auth0/auth0-react\";\n\nclass CallCompleted extends Component {\n  constructor() {\n    super();\n    this.state = {\n      data: [],\n    };\n  } //end constructor\n\n  updatecallCompleted = async () => {\n    const token = await this.props.GetAuthToken();\n\n    if (\n      document.getElementById(\"basic-select\").value != \"\" &&\n      document.getElementById(\"feedback_detail\").value != \"\"\n    ) {\n      var callstatus = document.getElementById(\"basic-select\").value;\n      //var operator_id = document.getElementById('operatorid_textbox').value;\n      var conversationid = document.getElementById(\"conversionid_textbox\")\n        .value;\n      var call_feedback = document.getElementById(\"feedback_detail\").value;\n\n      if (conversationid != \"\") {\n        fetch(\n          process.env.REACT_APP_API_URL + \"/oi/api/v1/updatestatusbyoperator\",\n          {\n            method: \"POST\",\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n              Authorization: `Bearer ${token}`,\n            },\n            body: JSON.stringify({\n              conversation_id: conversationid,\n              status_updated_by_operator: callstatus,\n              feedback: call_feedback,\n            }),\n          }\n        )\n          .then((response) => response.text())\n          .then((data) => this.callstsactionmsg(data))\n          .catch((err) => {\n            this.callstatusupdatefailureMsg();\n          });\n      }\n    } else {\n      alert(\"Please fill out feedback and call completed status\");\n    }\n  };\n\n  callstsactionmsg(updatedstatus) {\n    alert(\"Data updated successfully\");\n    //alert(updatedstatus);\n    // document.getElementById(\"btnclose\").click();\n    document.getElementById(\"basic-select\").value = \"\";\n    document.getElementById(\"feedback_detail\").value = \"\";\n  }\n\n  callstatusupdatefailureMsg() {\n    alert(\"Data Updation Failed, try again\");\n    document.getElementById(\"btnclose\").click();\n  }\n\n  render() {\n    return (\n      <div class=\"row\">\n        <div class=\"card\">\n          <div class=\"card-body  cardbody\">\n            <div class=\"card-title\">Call Completion Status</div>\n            <form>\n              <div class=\"row \">\n                <select\n                  class=\"form-control col-md-12 col-lg-12\"\n                  id=\"basic-select\"\n                >\n                  <option value=\"\">Select</option>\n                  <option value=\"AI_SUCCESS\">AI Success</option>\n                  <option value=\"OPERATOR_SUCCESS\">Operator Success</option>\n                  <option value=\"CUSTOMER_NO_RESPONSE\">\n                    Customer No Response\n                  </option>\n                  <option value=\"CUSTOMER_DISCONNECTED\">\n                    Customer Disconnected\n                  </option>\n                  <option value=\"CUSTOMER_CALLBACK\">Customer Callback</option>\n                  <option value=\"APPOINTMENT_CONFIRMATION\">\n                    Appointment Confirmation\n                  </option>\n                </select>\n              </div>\n              {/* callStatusCSS */}\n              <div class=\"row\">\n                <textarea\n                  placeholder=\"Please share your feedback... \"\n                  class=\"form-control \"\n                  id=\"feedback_detail\"\n                ></textarea>\n              </div>\n              <div class=\"text-center\">\n                <button\n                  onClick={() => this.updatecallCompleted()}\n                  type=\"button\"\n                  class=\"btn btn-success btn-square waves-effect waves-light m-1\"\n                >\n                  OK\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withAuth0(CallCompleted);\n"]},"metadata":{},"sourceType":"module"}